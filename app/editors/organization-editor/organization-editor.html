<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/polymer/lib/mixins/gesture-event-listeners.html">
<link rel="import" href="../../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-input/paper-textarea.html">

<link rel="import" href="../../widgets/categories-selector/categories-selector.html">
<link rel="import" href="../../widgets/image-picker/image-picker.html">
<link rel="import" href="../../widgets/place-picker/place-picker.html">

<link rel="import" href="organization-editor-styles.html">

<dom-module id="organization-editor">
  <template>

    <style include="organization-editor-styles">
    </style>

    <section id="logo">
      <image-picker
        image-url="[[updated.logo]]"
        label="[[localize('label:image')]]"
        on-picked="_imagePicked"
        ></image-picker>
    </section>
    <section id="general-info">
      <paper-input value="{{updated.name}}" label="[[localize('label:org-name')]]" required></paper-input>
      <div>
        <paper-textarea
         label="[[localize('label:org-description')]]"
         value="{{updated.description}}"
         required>
       </paper-textarea>
      </div>
    </section>
    <section id="categories">
    <categories-selector
      categories="[[categories]]"
      selection="[[updated.categories]]"
      on-selection-changed="_categoriesSelectionChanged"></categories-selector>
    </section>
    <section>
      <h3>[[localize('label:address')]]</h3>
      <place-picker
        on-picked="_placePicked"
      ></place-picker>
      <ul>
        <template is="dom-repeat" items="[[updated.locations]]" as="placeId">
          <li>
            [[_getPlaceAddress(placeId, places)]]
            <paper-button raised on-tap="_removeLocation">X</paper-button>
          </li>
        </template>
      </ul>
    </section>
    <section id="contact-data">
      <p>[[localize('label:contacts')]]</p>
      <ul>
        <template is="dom-repeat" items="[[updated.contacts]]">
          <li>
            <span>[[item]]</span>
            <paper-button raised on-tap="_removeContact">X</paper-button>
          </li>
        </template>
      </ul>
      <paper-input value="{{newContact}}" placeholder="@"></paper-input>
      <paper-button raised on-tap="_addContact" disabled="[[!newContact]]">[[localize('button:add-contact')]]</paper-button>
    </section>
    <section id="web-social-media">
      <p>[[localize('label:links')]]</p>
      <ul>
        <template is="dom-repeat" items="[[updated.links]]">
          <li>
            <span>[[item]]</span>
            <paper-button raised on-tap="_removeLink">X</paper-button>
          </li>
        </template>
      </ul>
      <paper-input value="{{newLink}}" placeholder="https://"></paper-input>
      <paper-button raised on-tap="_addLink" disabled="[[!newLink]]">[[localize('button:add-link')]]</paper-button>
    </section>
    <footer class="simple">
      <paper-button id="button-save" raised on-tap="_save" disabled="[[!readyToSave]]">[[localize('button:save')]]</paper-button>
      <paper-button id="button-cancel" raised on-tap="_cancel">[[localize('button:cancel')]]</paper-button>
    </footer>

  </template>

  <script src="organization-editor.js"></script>

</dom-module>
