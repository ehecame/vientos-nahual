<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">

<link rel="import" href="../components/vientos-categories-selector/vientos-categories-selector.html">

<link rel="import" href="personal-profile-editor-styles.html">

<dom-module id="personal-profile-editor">
  <template>

    <style include="personal-profile-editor-styles"></style>

    <paper-input value="{{updated.name}}" label="[[localize('label:name')]]"></paper-input>
    <section>
      <div id="language-toggle">
        <h4>[[localize('label:language')]]</h4>
        <div>
          <span>ES</span>
          <paper-toggle-button on-tap="_toggleLanguage" checked="[[_checkedLanguageInput(updated.language)]]"></paper-toggle-button>
          <span>EN</span>
        </div>
      </div>
      <div>
        <h4>[[localize('label:email-notifications')]]</h4>
        <paper-toggle-button on-tap="_toggleEmailNotifications" checked="[[updated.emailNotifications]]"></paper-toggle-button>
      </div>
    </section>
    <section id="logo">
      <form id="new-image-form">
        <label for="new-image">[[localize('label:image')]]</label>
        <template is="dom-if" if="[[imagePreviewSrc]]">
          <div><iron-image src="[[imagePreviewSrc]]" sizing="contain"></iron-image></div>
        </template>
        <div>
          <input id="new-image"
            type="file"
            accept="image/*"
            on-change="_imageInputChanged">
        </div>
      </form>
    </section>

    <section id="categories">
      <h3>[[localize('label:categories')]]</h3>
      <vientos-categories-selector
        categories="[[categories]]"
        selection="[[updated.categories]]"
        on-selection-changed="_categoriesSelectionChanged"></vientos-categories-selector>
    </section>
    <footer class="simple">
      <paper-button id="button-save" raised on-tap="_save" disabled="[[!readyToSave]]">[[localize('button:save')]]</paper-button>
      <paper-button id="button-cancel" raised on-tap="_cancel">[[localize('button:cancel')]]</paper-button>
    </footer>



  </template>

  <script src="personal-profile-editor.js"></script>

</dom-module>
