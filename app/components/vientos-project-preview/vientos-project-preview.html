<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/polymer-redux/polymer-redux.html">
<link rel="import" href="../../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../../bower_components/app-route/app-location.html">
<link rel="import" href="../../../bower_components/app-route/app-route.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-badge/paper-badge.html">
<link rel="import" href="../../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../../bower_components/paper-fab/paper-fab.html">


<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">


<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/vientos-iconset/vientos-iconset.html">


<link rel="import" href="../../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../vientos-styles/vientos-styles.html">

<link rel="import" href="../vientos-card/vientos-card.html">

<link rel="import" href="../vientos-icon-button/vientos-icon-button.html">


<dom-module id="vientos-project-preview">
  <template expanded=[[expanded]]>
    <style include="vientos-styles">

      :host {


        width: 292px !important;

        height: auto;
        /*overflow-y: auto;*/

        /*height: auto;*/


      }

      :host:focus,
      :host:hover {
        @apply --
      }

      vientos-card {
        /*padding-top: var(--spacing-1);*/
        padding-top: 0 !important;
      }

      :host, :host * {
        font-size: 14px;
      }


      h4 {
        font-size: 20px;
      }

      h6 {
        font-size: 16px;
      }

      header#project-title {
        height: 5em;
        @apply --layout-vertical;
        @apply --layout-center-justified;
        text-align: center;
      }




      main > div {
        @apply --layout-horizontal;
      }
      main iron-image {
        @apply --center-x;

        width: 60%;
        height: 10em;
        margin-left: 20%;
      }
      main ul {
        width: 20%;
        @apply --layout-vertical;
        @apply --layout-start-justified;
        text-align: right;

      }
      main ul li {
        padding-bottom: var(--spacing-1);
      }
      main ul li iron-icon {
        width: var(--spacing-1);
        height: var(--spacing-1);
        color: var(--vientos-color-button-light)
      }

      footer  {
        position: relative;
      }

      footer app-toolbar {
        height: auto !important;
      }

      footer a {
        position: absolute;
        right: 0;
        bottom: 0;
      }


      #project-collaborations-view-header {
        @apply --layout-horizontal;
        @apply --layout-around-justified;
        padding-top: var(--spacing-1);
      }


      #project-collaborations-view-header iron-image {
        width: 3em;
        height: 3em;
        margin-right: 1em;
      }


    #project-collaborations-list {
      height: 222px;
      overflow-y: auto;
    }

    </style>


    <vientos-card>
      <template is="dom-if" if="[[!expanded]]">
      <a href="[[_linkTo(project)]]">
        <header id="project-title" on-tap="">
          <h4>
            [[project.name]]
          </h4>
        </header>
        <main>

          <div>
            <iron-image
               src="http://vientos.coop/img/[[project.logo]]"
               sizing="contain"
            ></iron-image>

            <ul id="project-preview-categories">
            <template is="dom-repeat" items="[[project.categories]]">
              <li>
                <iron-icon icon="vientos:[[item.catId]]"></iron-icon>
              </li>
            </template>
            </ul>
          </div>
          <div>
            <paper-item>
              [[item.territory]]
            </paper-item>
          </div>


        </main>
      </a>
      <footer>
        <app-toolbar>
          <paper-button on-tap="_expandCollaborations">
            <span>
              Collaborations
            </span>

            <template is="dom-if" if=[[expanded]]>
              <iron-icon icon="expand-less"></iron-icon>
            </template>
            <template is="dom-if" if=[[!expanded]]>
              <iron-icon icon="expand-more"></iron-icon>
            </template>

          </paper-button>
          <!--
          <paper-button>
          -&gt;
          </paper-button>
          -->
          <a href="[[_linkTo(project)]]">
            <paper-fab mini neutral icon="arrow-forward"></paper-fab>
          </a>

        </app-toolbar>
      </footer>
    </template> <!-- expanded -->

      <template is="dom-if" if="[[expanded]]">

        <section id="project-collaborations">

          <section id="project-collaborations-view" >
            <header id="project-collaborations-view-header" on-tap="">
              <iron-image
                 src="http://vientos.coop/img/[[project.logo]]"
                 sizing="contain"
              ></iron-image>
              <h6>
                [[project.name]]
              </h6>
              <iron-icon icon="expand-less" on-tap="_collapseCollaborations"></iron-icon>
            </header>

            <h6>Collaborations</h6>

            <ul id="project-collaborations-list">
              <template is="dom-repeat" items="[[project.intents]]">
                <li>-&gt; : [[item.title]]</li>
              </template>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat rerum corporis, hic sunt ratione fugiat libero doloribus, labore excepturi cum cumque. Distinctio nostrum pariatur deleniti alias non nobis nesciunt aspernatur sint consequuntur facilis cumque ad, vitae, quas, itaque error optio omnis incidunt nihil vero harum doloremque in. Explicabo, pariatur cupiditate adipisci quos repellendus. Qui nulla consequuntur modi ex dolorum, hic, eum optio, error enim quod molestiae accusamus laudantium voluptas unde in mollitia! Inventore nihil quo magnam porro sequi, est sunt officia enim. Accusantium, esse, quaerat est ea earum saepe omnis rem aperiam laboriosam, temporibus nostrum enim nisi dolores eveniet adipisci nihil, iure a magnam. Aliquam sequi, ipsum atque numquam aperiam veritatis voluptatibus eveniet harum, laboriosam, ea, quas odio. Et perferendis, facilis, ipsam pariatur quam fugit! Ratione molestiae numquam nulla veniam molestias, blanditiis perspiciatis dicta, in non debitis laudantium repudiandae. Non totam illo nemo! Illum deleniti atque, vero veniam. Nemo dolor, libero suscipit rem beatae tenetur nisi voluptate? In ad sint qui magni quas iste illum facilis possimus aliquid assumenda eos neque provident sed error, veritatis deserunt? Illo odit doloribus quibusdam delectus blanditiis labore quas molestias, alias accusamus, eum cupiditate totam consequatur, nulla molestiae aliquam! Impedit, quis aperiam magni modi reprehenderit!
            </ul>

            <footer>
              <a href="[[_linkTo(project)]]">
                <paper-fab mini neutral icon="arrow-forward"></paper-fab>
              </a>

            </footer>
          </section>

      </template>


    </vientos-card>

  </template>
</dom-module>

<script src="vientos-project-preview.js"></script>
