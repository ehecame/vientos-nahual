<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="../../bower_components/vientos-iconset/vientos-iconset.html">

<link rel="import" href="../vientos-styles/vientos-styles.html">
<link rel="import" href="vientos-intent-editor-styles.html">

<dom-module id="vientos-intent-editor">
  <template>

    <style include="vientos-intent-editor-styles"></style>

    <input id="intentTitle" placeholder="Intent name" value="[[intent.title]]"/>

    <div id="intent-direction-toggle">
      <iron-icon icon="arrow-forward"></iron-icon>
      <span>[[localize('offer')]]</span>
      <paper-toggle-button on-tap="_toggleDirection" checked="[[toggled]]"></paper-toggle-button>
      <iron-icon icon="arrow-back"></iron-icon>
      <span>[[localize('request')]]</span>
    </div>


    <paper-dropdown-menu label="[[localize('label:collaboration-type')]]">
      <paper-listbox
        class="dropdown-content"
        attr-for-selected="name"
        on-iron-select="_setCollaborationType"
        selected="[[intent.collaborationType]]">
        <template is="dom-repeat" items="[[collaborationTypes]]">
          <paper-item name="[[item.id]]">[[localize(item.id)]]</paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>

    <paper-dropdown-menu label="[[localize('label:collaboration-condition')]]">
      <paper-listbox
        class="dropdown-content"
        attr-for-selected="name"
        on-iron-select="_setCollaborationCondition"
        selected="[[intent.condition]]">
        <template is="dom-repeat" items="[[conditions]]">
          <paper-item name="[[item]]">[[localize(item)]]</paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>

    <vaadin-date-picker
      id="datepicker"
      value="{{expiryDate}}"
      min="[[expiryMinDate]]"
      label="[[localize('label:expiry-date')]]"></vaadin-date-picker>

    <vientos-icon-button
      id="button-save-intent"
      icon="vientos:ok"
      text="[[localize('button:save')]]"
      on-tap="_saveIntent"
    ></vientos-icon-button>

    <template is="dom-if" if="[[intent._id]]">
          <vientos-icon-button
            icon="vientos:cancel"
            text="[[localize('button:delete')]]"
            on-tap="_deleteIntent"
          ></vientos-icon-button>
    </template>
  </template>

  <script src="vientos-intent-editor.js"></script>

</dom-module>
